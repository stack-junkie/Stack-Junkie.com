---
import Layout from '../layouts/Layout.astro';
import NewsletterSignup from '../components/NewsletterSignup.astro';
import FooterNewsletter from '../components/FooterNewsletter.astro';
import ModalNewsletter from '../components/ModalNewsletter.astro';
import InlineNewsletter from '../components/InlineNewsletter.astro';
import NewsletterTrigger from '../components/NewsletterTrigger.astro';
---

<Layout title="Newsletter Demo - Stack Junkie">
  <main class="demo-main">
    <div class="demo-header">
      <h1>Newsletter Components Demo</h1>
      <p>Complete newsletter signup system with TDD approach</p>
    </div>

    <section class="demo-section">
      <h2>Base Newsletter Component</h2>
      <p>The core reusable newsletter signup component with different variants:</p>
      
      <div class="demo-grid">
        <div class="demo-card">
          <h3>Inline Variant</h3>
          <NewsletterSignup variant="inline" showName={true} />
        </div>
        
        <div class="demo-card">
          <h3>Footer Variant</h3>
          <NewsletterSignup variant="footer" showName={false} />
        </div>
        
        <div class="demo-card">
          <h3>Modal Variant</h3>
          <NewsletterSignup variant="modal" showName={true} />
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h2>Modal Newsletter</h2>
      <p>Modal popup with auto-trigger and manual triggers:</p>
      
      <div class="demo-triggers">
        <NewsletterTrigger text="Open Modal (Button)" variant="button" />
        <NewsletterTrigger text="Open Modal (Link)" variant="link" />
        <NewsletterTrigger text="Open Modal (CTA)" variant="cta" />
      </div>
    </section>

    <section class="demo-section">
      <h2>Inline Newsletter Variants</h2>
      <p>Contextual newsletter forms for different use cases:</p>
      
      <InlineNewsletter variant="default" />
      
      <InlineNewsletter 
        variant="compact" 
        title="Quick Subscribe"
        description="Stay updated with our latest posts."
        showName={false}
      />
      
      <InlineNewsletter 
        variant="featured" 
        title="Exclusive AI Development Tips"
        description="Join 1,000+ developers who get weekly insights on AI workflows, tools, and productivity hacks."
      />
    </section>

    <section class="demo-section">
      <h2>API Integration</h2>
      <p>All forms submit to <code>/api/newsletter</code> with proper validation:</p>
      
      <div class="demo-features">
        <div class="demo-feature">
          <h3>✅ Validation</h3>
          <p>Zod schema validation for email format and optional name field</p>
        </div>
        
        <div class="demo-feature">
          <h3>✅ Error Handling</h3>
          <p>Comprehensive error handling with user-friendly messages</p>
        </div>
        
        <div class="demo-feature">
          <h3>✅ Loading States</h3>
          <p>Visual feedback during form submission</p>
        </div>
        
        <div class="demo-feature">
          <h3>✅ Success Feedback</h3>
          <p>Clear success messages and form reset</p>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h2>Test Coverage</h2>
      <p>Built with Test-Driven Development approach:</p>
      
      <div class="demo-stats">
        <div class="demo-stat">
          <span class="demo-stat-number">30</span>
          <span class="demo-stat-label">Total Tests</span>
        </div>
        
        <div class="demo-stat">
          <span class="demo-stat-number">100%</span>
          <span class="demo-stat-label">Test Coverage</span>
        </div>
        
        <div class="demo-stat">
          <span class="demo-stat-number">3</span>
          <span class="demo-stat-label">Form Variants</span>
        </div>
        
        <div class="demo-stat">
          <span class="demo-stat-number">1</span>
          <span class="demo-stat-label">API Endpoint</span>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer Newsletter -->
  <FooterNewsletter />
  
  <!-- Modal Newsletter -->
  <ModalNewsletter />
</Layout>

<style>
  .demo-main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }

  .demo-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .demo-header h1 {
    font-size: 3rem;
    font-weight: 700;
    color: var(--color-text-primary, #1f2937);
    margin: 0 0 1rem 0;
  }

  .demo-header p {
    font-size: 1.25rem;
    color: var(--color-text-secondary, #6b7280);
    margin: 0;
  }

  .demo-section {
    margin-bottom: 4rem;
  }

  .demo-section h2 {
    font-size: 2rem;
    font-weight: 600;
    color: var(--color-text-primary, #1f2937);
    margin: 0 0 1rem 0;
  }

  .demo-section p {
    font-size: 1.125rem;
    color: var(--color-text-secondary, #6b7280);
    margin: 0 0 2rem 0;
  }

  .demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .demo-card {
    background: var(--color-surface, white);
    border: 2px solid var(--color-border, #e5e7eb);
    border-radius: 12px;
    padding: 2rem;
  }

  .demo-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-text-primary, #1f2937);
    margin: 0 0 1rem 0;
  }

  .demo-triggers {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
  }

  .demo-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }

  .demo-feature {
    padding: 1.5rem;
    background: var(--color-gray-50, #f9fafb);
    border-radius: 8px;
  }

  .demo-feature h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-text-primary, #1f2937);
    margin: 0 0 0.5rem 0;
  }

  .demo-feature p {
    font-size: 0.875rem;
    color: var(--color-text-secondary, #6b7280);
    margin: 0;
  }

  .demo-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 2rem;
  }

  .demo-stat {
    text-align: center;
    padding: 2rem;
    background: linear-gradient(135deg, var(--color-primary, #3b82f6) 0%, var(--color-secondary, #8b5cf6) 100%);
    color: white;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .demo-stat-number {
    font-size: 3rem;
    font-weight: 700;
  }

  .demo-stat-label {
    font-size: 0.875rem;
    opacity: 0.9;
  }

  code {
    background: var(--color-gray-100, #f3f4f6);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: monospace;
    font-size: 0.875rem;
  }

  @media (max-width: 768px) {
    .demo-main {
      padding: 1rem;
    }

    .demo-header h1 {
      font-size: 2rem;
    }

    .demo-header p {
      font-size: 1rem;
    }

    .demo-section h2 {
      font-size: 1.5rem;
    }

    .demo-section p {
      font-size: 1rem;
    }

    .demo-grid {
      grid-template-columns: 1fr;
    }

    .demo-card {
      padding: 1.5rem;
    }

    .demo-triggers {
      flex-direction: column;
      align-items: stretch;
    }

    .demo-stat-number {
      font-size: 2rem;
    }
  }
</style></Layout>